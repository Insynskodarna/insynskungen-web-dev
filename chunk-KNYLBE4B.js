import{i as te}from"./chunk-XXDXYNTM.js";import{a as ne,b as oe,f as ie,k as re,l as ae}from"./chunk-XRZ2SKNB.js";import{a as ee}from"./chunk-ZMV6OW2D.js";import{a as Z}from"./chunk-HY7QSAIW.js";import{c as X,e as Y}from"./chunk-GI3LTO4J.js";import{d as Q}from"./chunk-3NQXF4AJ.js";import"./chunk-LKIIH6AW.js";import{$ as V,$a as O,Aa as i,B as F,Ia as v,L as R,M as j,Oa as l,Pa as g,Qa as C,Ta as d,Ua as M,Va as m,W as _,Wa as B,Xa as U,Y as w,Ya as a,Z as h,Za as s,_a as p,ab as S,bb as u,cb as N,db as $,eb as f,fa as q,fb as z,g as P,gb as H,ha as x,hb as G,ia as b,ib as J,j as A,jb as K,lb as y,oa as I,pa as D,qa as W,y as E}from"./chunk-4ZDGGICM.js";function T(e){e||(q(T),e=_(I));let t=new P(o=>e.onDestroy(o.next.bind(o)));return o=>o.pipe(j(t))}var de=()=>[import("./chunk-DYSM7C76.js").then(e=>e.IconCloseComponent)],ue=()=>[import("./chunk-XA7M6YRT.js").then(e=>e.IconDashboardComponent)],me=()=>[import("./chunk-C3KKNL4Z.js").then(e=>e.IconListComponent)],_e=()=>[import("./chunk-TG46GTFS.js").then(e=>e.IconSearchComponent)],fe=()=>[import("./chunk-VHNWKAK6.js").then(e=>e.IconUserComponent)];function he(e,t){e&1&&p(0,"app-icon-close")}function ge(e,t){e&1&&p(0,"app-icon-dashboard")}function Ce(e,t){e&1&&p(0,"app-icon-list")}function ye(e,t){e&1&&p(0,"app-icon-search")}function xe(e,t){e&1&&p(0,"app-icon-user")}var ce=(()=>{let t=class t{constructor(){this.icon=D.required()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h({type:t,selectors:[["app-icon"]],inputs:{icon:[w.SignalBased,"icon"]},standalone:!0,features:[y],decls:15,vars:5,template:function(n,c){n&1&&(l(0,he,1,0),g(1,0,de),l(3,ge,1,0),g(4,3,ue),l(6,Ce,1,0),g(7,6,me),l(9,ye,1,0),g(10,9,_e),l(12,xe,1,0),g(13,12,fe)),n&2&&(i(),C(c.icon()==="close"),i(3),C(c.icon()==="dashboard"),i(3),C(c.icon()==="list"),i(3),C(c.icon()==="search"),i(3),C(c.icon()==="user"))},styles:[`app-icon{display:inline-flex}app-icon>*{height:min-content;display:flex;width:min-content}app-icon svg{fill:#000}app-icon.icon--white svg{fill:#fff}app-icon.icon--lg svg{width:30px;height:30px}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var be=["*"],se=(()=>{let t=class t{constructor(){this.truncate=D()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h({type:t,selectors:[["app-text"]],hostVars:2,hostBindings:function(n,c){n&2&&M("truncate",c.truncate())},inputs:{truncate:[w.SignalBased,"truncate"]},standalone:!0,features:[y],ngContentSelectors:be,decls:1,vars:0,template:function(n,c){n&1&&(N(),$(0))},styles:[".truncate[_nghost-%COMP%]{overflow:hidden;text-overflow:ellipsis}"],changeDetection:0});let e=t;return e})();var pe=(()=>{let t=class t{constructor(){this.elementRef=_(W)}ngAfterViewInit(){this.elementRef.nativeElement?.focus()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275dir=V({type:t,selectors:[["","appAutofocus",""]],standalone:!0});let e=t;return e})();var ve=(e,t)=>t.id;function Se(e,t){if(e&1&&(a(0,"app-text",7),f(1),s(),a(2,"button",8),p(3,"app-icon",9),s()),e&2){let o=u(2);d("truncate",!0),i(),z(" ",o.email," "),i(2),d("icon","user")}}function we(e,t){e&1&&(a(0,"a",10),f(1," Logga in "),s(),a(2,"a",10)(3,"button",11),f(4,"Registrera"),s()()),e&2&&(d("routerLink","/login"),i(2),d("routerLink","/register"))}function Ie(e,t){if(e&1&&(a(0,"div",6),l(1,Se,4,3)(2,we,5,2),s()),e&2){let o=u();i(),m(1,o.isLoggedIn?1:2)}}function De(e,t){e&1&&l(0,Ie,3,1,"div",6),e&2&&m(0,t.isLoading?-1:0)}function Me(e,t){if(e&1){let o=O();a(0,"div",15),p(1,"app-icon",16),a(2,"input",17),K("ngModelChange",function(n){x(o);let c=u(2);return J(c.query,n)||(c.query=n),b(n)}),S("keyup",function(){x(o);let n=u(2);return b(n.loadSearch$.next())}),s(),a(3,"app-icon",18),S("click",function(){x(o);let n=u(2);return b(n.closeSearch())}),s()()}if(e&2){let o=u(2);M("search-mode__input-wrapper--has-result",o.searchItems().length),i(),d("icon","search"),i(),G("ngModel",o.query),i(),d("icon","close")}}function ke(e,t){if(e&1&&(a(0,"a"),f(1),s()),e&2){let o=t.$implicit;i(),H("",o.foretag," - ",o.ticker,"")}}function Oe(e,t){if(e&1&&(a(0,"div",19),B(1,ke,2,2,"a",null,ve),s()),e&2){let o=u();i(),U(o)}}function Te(e,t){e&1&&l(0,Oe,3,0,"div",19),e&2&&m(0,t.length?0:-1)}function Le(e,t){if(e&1){let o=O();a(0,"div",1)(1,"div",12),S("click",function(){x(o);let n=u();return b(n.closeSearch())}),s(),a(2,"div",13),l(3,Me,4,5,"div",14)(4,Te,1,1),s()()}if(e&2){let o,r=u();d("@searchSlide",void 0),i(3),m(3,r.searchMode()?3:-1),i(),m(4,(o=r.searchItems())?4:-1,o)}}function Pe(e,t){e&1&&p(0,"app-icon",4),e&2&&d("icon","close")}function Ae(e,t){e&1&&p(0,"app-icon",4),e&2&&d("icon","search")}var le=(()=>{let t=class t{constructor(){this.userStoreService=_(Z),this.searchEndpointsService=_(Q),this.destroyRef=_(I),this.userData=this.userStoreService.userData,this.searchMode=v(!1),this.query=v(""),this.searchItems=v([]),this.loadSearch$=new A,this.toggleSearchMode=()=>{this.searchMode.set(!this.searchMode())},this.closeSearch=()=>{this.searchMode.set(!1)},this.loadSearch=()=>{this.loadSearch$.pipe(F(100),E(()=>this.query()?!0:(this.searchItems.set([]),!1)),R(()=>this.searchEndpointsService.searchControllerSearch({requestBody:{query:this.query()}})),T(this.destroyRef)).subscribe(r=>{console.log(r),this.searchItems.set(r)})}}ngOnInit(){this.loadSearch()}};t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=h({type:t,selectors:[["app-in-app-layout"]],standalone:!0,features:[y],decls:16,vars:7,consts:[[1,"header"],[1,"search-mode"],[1,"bottom-bar"],[1,"bottom-bar__item",3,"routerLink"],[1,"icon--white",3,"icon"],[1,"bottom-bar__item",3,"click"],[1,"menu"],[3,"truncate"],[1,"icon-button","ml-xs"],[3,"icon"],[3,"routerLink"],[1,"button"],[1,"search-mode__bg-close",3,"click"],[1,"search-mode__content"],[1,"search-mode__input-wrapper",3,"search-mode__input-wrapper--has-result"],[1,"search-mode__input-wrapper"],[1,"icon--white","icon--lg",3,"icon"],["type","text","placeholder","S\xF6k","appAutofocus","",1,"search-mode__input",3,"ngModelChange","keyup","ngModel"],[1,"search-mode__input-wrapper--right","icon--white",3,"click","icon"],[1,"search-mode__result"]],template:function(n,c){if(n&1&&(a(0,"div",0),p(1,"app-logo"),l(2,De,1,1),s(),p(3,"router-outlet"),l(4,Le,5,3,"div",1),a(5,"div",2)(6,"a",3),p(7,"app-icon",4),f(8," \xD6versikt "),s(),a(9,"a",3),p(10,"app-icon",4),f(11," Transaktioner "),s(),a(12,"button",5),S("click",function(){return c.toggleSearchMode()}),l(13,Pe,1,1,"app-icon",4)(14,Ae,1,1),f(15," S\xF6k "),s()()),n&2){let k;i(2),m(2,(k=c.userData())?2:-1,k),i(2),m(4,c.searchMode()?4:-1),i(2),d("routerLink","/app"),i(),d("icon","dashboard"),i(2),d("routerLink","/app/transactions"),i(),d("icon","list"),i(3),m(13,c.searchMode()?13:14)}},dependencies:[pe,re,ne,oe,ie,ce,ee,ae,Y,X,se],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;padding:24px}.header[_ngcontent-%COMP%]{align-items:center;display:flex}.menu[_ngcontent-%COMP%]{align-items:center;display:flex;margin-left:auto;overflow:hidden}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:16px}.search-mode[_ngcontent-%COMP%]{background:#0000004d;display:flex;inset:0;position:fixed}.search-mode__bg-close[_ngcontent-%COMP%]{inset:0;position:absolute}.search-mode__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:min-content;margin:16px;position:relative;width:100%}.search-mode__input-wrapper[_ngcontent-%COMP%]{align-items:center;background:#000;border-radius:12px;display:flex;padding:8px 16px}.search-mode__input-wrapper--has-result[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.search-mode__input-wrapper--right[_ngcontent-%COMP%]{margin-left:auto}.search-mode__input[_ngcontent-%COMP%]{appearance:none;background:none;color:#fff;font-size:30px;height:50px;padding:0 16px;width:100%}.search-mode__result[_ngcontent-%COMP%]{background:#000;border-bottom-left-radius:12px;border-bottom-right-radius:12px;border-top:1px solid grey;display:flex;flex-direction:column;gap:16px;overflow:auto;padding:16px}.search-mode__result[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;cursor:pointer}.bottom-bar[_ngcontent-%COMP%]{background:#000;border-radius:12px;bottom:8px;color:#fff;display:flex;height:56px;justify-content:space-around;left:8px;padding:8px;position:fixed;right:8px}.bottom-bar__item[_ngcontent-%COMP%]{align-items:center;cursor:pointer;display:flex;flex-direction:column;font-size:13px;justify-content:space-between}.bottom-bar__item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{margin-bottom:4px}.bottom-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"],data:{animation:[te]},changeDetection:0});let e=t;return e})();var bt=[{path:"",component:le,children:[{path:"",loadComponent:()=>import("./chunk-GD6DQ4ZH.js").then(e=>e.InAppOverviewComponent)},{path:"transactions",loadComponent:()=>import("./chunk-K43LB4IW.js").then(e=>e.InAppTransactionsComponent)}]}];export{bt as inAppLayoutRoutes};
