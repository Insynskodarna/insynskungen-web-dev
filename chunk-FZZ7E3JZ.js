import{a as D}from"./chunk-PN6RFT7M.js";import{a as x}from"./chunk-5EMGOK4A.js";import{e as y}from"./chunk-O3SQ2WGH.js";import{b as C}from"./chunk-UGZECX7I.js";import"./chunk-3LPXCEUP.js";import"./chunk-CFRCMCFN.js";import{$a as c,Ba as f,D as p,Qa as s,W as o,Ya as a,Z as d,ab as l,gb as h,hb as S,kb as u,mb as v,pa as g,rb as _}from"./chunk-FNK54MCU.js";function M(t,e){if(t&1&&u(0),t&2){let i=S();v(" ",i.email," ")}}function b(t,e){if(t&1&&s(0,M,1,1),t&2){let i=e;a(0,!i.isLoading&&i.isLoggedIn?0:-1)}}var j=(()=>{let e=class e{constructor(){this.close=g(),this.userStoreService=o(x),this.storageService=o(D),this.authEndpointsService=o(C),this.router=o(y),this.logout=()=>{this.router.navigateByUrl(""),this.authEndpointsService.authControllerLogout().pipe(p(1)).subscribe(()=>{this.storageService.persistIsLoggedIn(!1),this.userStoreService.setUserData({isLoading:!1,isLoggedIn:!1}),this.router.navigateByUrl("")})}}ngOnInit(){}ngOnDestroy(){console.log("destroy AccountModalComponent")}};e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=d({type:e,selectors:[["app-account-modal"]],outputs:{close:"close"},standalone:!0,features:[_],decls:4,vars:1,consts:[[1,"mb-sm"],[1,"button",3,"click"]],template:function(n,m){if(n&1&&(c(0,"h3",0),s(1,b,1,1),l(),c(2,"button",1),h("click",function(){return m.logout()}),u(3,` Logga ut
`),l()),n&2){let r;f(),a(1,(r=m.userStoreService.userData())?1:-1,r)}},styles:["[_nghost-%COMP%]{display:flex;flex-direction:column}"],changeDetection:0});let t=e;return t})();export{j as AccountModalComponent};
