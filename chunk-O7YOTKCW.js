import{a as W}from"./chunk-377UHWRP.js";import{a as $}from"./chunk-7UOKYF4Y.js";import{a as L,b as N,f as j,k as V}from"./chunk-77JBAVBO.js";import{f as B}from"./chunk-SKHFEV3S.js";import{d as A}from"./chunk-OJLFCCTT.js";import"./chunk-M63GBMWQ.js";import"./chunk-LJMOF55N.js";import{$ as k,$a as n,B as y,Ba as o,Ja as u,L as M,Qa as _,W as m,Wa as h,Ya as f,Z as b,Za as w,_a as I,ab as i,bb as g,gb as x,hb as T,j as S,kb as r,lb as C,nb as D,oa as E,ob as q,pa as O,pb as F,ra as P,rb as R,y as v}from"./chunk-RMOKAAJ7.js";var K=(()=>{let e=class e{constructor(){this.elementRef=m(P)}ngAfterViewInit(){this.elementRef.nativeElement?.focus()}};e.\u0275fac=function(c){return new(c||e)},e.\u0275dir=k({type:e,selectors:[["","appAutofocus",""]],standalone:!0});let t=e;return t})();var H=(t,e)=>e.id;function U(t,e){if(t&1&&(n(0,"div",7)(1,"a",8)(2,"p"),r(3),i(),n(4,"p"),r(5),i()(),n(6,"button",9),g(7,"app-icon",10),i()()),t&2){let l=e.$implicit;o(),h("routerLink","/app/transactions/"+l.id),o(2),C(l.foretag),o(2),C(l.ticker),o(2),h("icon","favorite-plus")}}function G(t,e){if(t&1&&w(0,U,8,4,"div",7,H),t&2){let l=T();I(l)}}function J(t,e){t&1&&(n(0,"div",11)(1,"p"),r(2,"H\xE4r kan du s\xF6ka p\xE5:"),i(),n(3,"ul")(4,"li"),r(5,"Bolag, t ex Investor"),i(),n(6,"li"),r(7,"Symboler, t ex INVE_B"),i(),n(8,"li"),r(9,"ISIN"),i()()())}function Q(t,e){t&1&&(n(0,"div",6),_(1,G,2,0)(2,J,10,0),i()),t&2&&(o(),f(1,e.length?1:2))}var de=(()=>{let e=class e{constructor(){this.closeSearch=O(),this.query=u(""),this.searchItems=u([]),this.loadSearch$=new S,this.searchEndpointsService=m(A),this.destroyRef=m(E),this.handleKeyup=a=>{if(a.key==="Escape"){this.closeSearch.emit();return}this.loadSearch$.next()},this.loadSearch=()=>{this.loadSearch$.pipe(y(100),v(()=>this.query()?!0:(this.searchItems.set([]),!1)),M(()=>this.searchEndpointsService.searchControllerSearch({requestBody:{query:this.query()}})),$(this.destroyRef)).subscribe(a=>{this.searchItems.set(a)})}}ngOnInit(){this.loadSearch()}};e.\u0275fac=function(c){return new(c||e)},e.\u0275cmp=b({type:e,selectors:[["app-search"]],outputs:{closeSearch:"closeSearch"},standalone:!0,features:[R],decls:7,vars:3,consts:[[1,"search-mode"],[1,"search-mode__bg-close",3,"click"],[1,"search-mode__content"],[1,"search-mode__input-wrapper"],[1,"icon--search","icon--lg",3,"icon"],["type","text","placeholder","S\xF6k","appAutofocus","",1,"search-mode__input",3,"ngModelChange","keyup","ngModel"],[1,"search-mode__result"],[1,"search-mode__result__item"],[3,"routerLink"],[1,"icon-button","icon-button--ui"],[1,"icon--ui",3,"icon"],[1,"search-mode__tips"]],template:function(c,s){if(c&1&&(n(0,"div",0)(1,"div",1),x("click",function(){return s.closeSearch.emit()}),i(),n(2,"div",2)(3,"div",3),g(4,"app-icon",4),n(5,"input",5),F("ngModelChange",function(d){return q(s.query,d)||(s.query=d),d}),x("keyup",function(d){return s.handleKeyup(d)}),i()(),_(6,Q,3,1,"div",6),i()()),c&2){let p;o(4),h("icon","search"),o(),D("ngModel",s.query),o(),f(6,(p=s.searchItems())?6:-1,p)}},dependencies:[K,W,V,L,N,j,B],styles:["[_nghost-%COMP%]{background:#0000004d;display:flex;inset:0;padding:16px;position:fixed}.search-mode__bg-close[_ngcontent-%COMP%]{inset:0;position:absolute}.search-mode__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:min-content;max-height:calc(100dvh - 100px);overflow:hidden;position:relative;width:100%}.search-mode__input-wrapper[_ngcontent-%COMP%]{align-items:center;background:var(--search-bg);border-radius:12px 12px 0 0;display:flex;padding:8px 16px}.search-mode__input-wrapper--right[_ngcontent-%COMP%]{margin-left:auto}.search-mode__input[_ngcontent-%COMP%]{appearance:none;background:none;color:var(--search-text);font-size:26px;height:50px;margin-left:16px;width:100%}.search-mode__input[_ngcontent-%COMP%]::placeholder{color:var(--search-text-placeholder)}.search-mode__result[_ngcontent-%COMP%]{background:var(--search-bg);border-bottom-left-radius:12px;border-bottom-right-radius:12px;border-top:1px solid var(--search-border);display:flex;flex-direction:column;gap:16px;overflow:auto;padding:16px}.search-mode__result__item[_ngcontent-%COMP%]{align-items:center;display:flex;gap:16px}.search-mode__result[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-left:auto}.search-mode__result[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:var(--search-text);cursor:pointer;flex:1}.search-mode__tips[_ngcontent-%COMP%]{color:var(--search-text)}.search-mode__tips[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:24px;padding-top:8px}.search-mode__tips[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-top:4px}"],changeDetection:0});let t=e;return t})();export{de as SearchComponent};
