import{a as te,b as ne,f as oe,k as ie,l as re}from"./chunk-XRZ2SKNB.js";import{a as ee}from"./chunk-ZMV6OW2D.js";import{a as Z}from"./chunk-HY7QSAIW.js";import{c as X,e as Y}from"./chunk-GI3LTO4J.js";import{d as Q}from"./chunk-O2JGK4U2.js";import"./chunk-LKIIH6AW.js";import{$ as j,$a as U,Aa as n,B as F,Ia as x,L as A,M as R,Oa as p,Pa as g,Qa as C,Ta as d,Ua as w,Va as m,W as u,Wa as W,Xa as B,Y as b,Ya as l,Z as h,Za as s,_a as c,ab as k,bb as _,cb as N,db as $,eb as f,fa as q,fb as z,g as L,gb as H,ha as I,hb as G,ia as M,ib as J,j as P,jb as K,lb as y,oa as v,pa as S,qa as V,y as E}from"./chunk-4ZDGGICM.js";function O(e){e||(q(O),e=u(v));let t=new L(i=>e.onDestroy(i.next.bind(i)));return i=>i.pipe(R(t))}var le=()=>[import("./chunk-DYSM7C76.js").then(e=>e.IconCloseComponent)],de=()=>[import("./chunk-XA7M6YRT.js").then(e=>e.IconDashboardComponent)],ue=()=>[import("./chunk-C3KKNL4Z.js").then(e=>e.IconListComponent)],me=()=>[import("./chunk-TG46GTFS.js").then(e=>e.IconSearchComponent)],fe=()=>[import("./chunk-VHNWKAK6.js").then(e=>e.IconUserComponent)];function _e(e,t){e&1&&c(0,"app-icon-close")}function he(e,t){e&1&&c(0,"app-icon-dashboard")}function ge(e,t){e&1&&c(0,"app-icon-list")}function Ce(e,t){e&1&&c(0,"app-icon-search")}function ye(e,t){e&1&&c(0,"app-icon-user")}var ae=(()=>{let t=class t{constructor(){this.icon=S.required()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-icon"]],inputs:{icon:[b.SignalBased,"icon"]},standalone:!0,features:[y],decls:15,vars:5,template:function(o,a){o&1&&(p(0,_e,1,0),g(1,0,le),p(3,he,1,0),g(4,3,de),p(6,ge,1,0),g(7,6,ue),p(9,Ce,1,0),g(10,9,me),p(12,ye,1,0),g(13,12,fe)),o&2&&(n(),C(a.icon()==="close"),n(3),C(a.icon()==="dashboard"),n(3),C(a.icon()==="list"),n(3),C(a.icon()==="search"),n(3),C(a.icon()==="user"))},styles:[`app-icon{display:inline-flex}app-icon>*{height:min-content;display:flex;width:min-content}app-icon svg{fill:#000}app-icon.icon--white svg{fill:#fff}app-icon.icon--lg svg{width:30px;height:30px}
`],encapsulation:2,changeDetection:0});let e=t;return e})();var xe=["*"],ce=(()=>{let t=class t{constructor(){this.truncate=S()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-text"]],hostVars:2,hostBindings:function(o,a){o&2&&w("truncate",a.truncate())},inputs:{truncate:[b.SignalBased,"truncate"]},standalone:!0,features:[y],ngContentSelectors:xe,decls:1,vars:0,template:function(o,a){o&1&&(N(),$(0))},styles:[".truncate[_nghost-%COMP%]{overflow:hidden;text-overflow:ellipsis}"],changeDetection:0});let e=t;return e})();var se=(()=>{let t=class t{constructor(){this.elementRef=u(V)}ngAfterViewInit(){this.elementRef.nativeElement?.focus()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275dir=j({type:t,selectors:[["","appAutofocus",""]],standalone:!0});let e=t;return e})();var be=(e,t)=>t.id;function ve(e,t){if(e&1&&(l(0,"app-text",7),f(1),s(),l(2,"button",8),c(3,"app-icon",9),s()),e&2){let i=_(2);d("truncate",!0),n(),z(" ",i.email," "),n(2),d("icon","user")}}function Se(e,t){e&1&&(l(0,"a",10),f(1," Logga in "),s(),l(2,"a",10)(3,"button",11),f(4,"Registrera"),s()()),e&2&&(d("routerLink","/login"),n(2),d("routerLink","/register"))}function we(e,t){if(e&1&&(l(0,"div",6),p(1,ve,4,3)(2,Se,5,2),s()),e&2){let i=_();n(),m(1,i.isLoggedIn?1:2)}}function De(e,t){e&1&&p(0,we,3,1,"div",6),e&2&&m(0,t.isLoading?-1:0)}function Ie(e,t){if(e&1&&(l(0,"a"),f(1),s()),e&2){let i=t.$implicit;n(),H("",i.foretag," - ",i.ticker,"")}}function Me(e,t){if(e&1&&(l(0,"div",17),W(1,Ie,2,2,"a",null,be),s()),e&2){let i=_();n(),B(i)}}function ke(e,t){e&1&&p(0,Me,3,0,"div",17),e&2&&m(0,t.length?0:-1)}function Oe(e,t){if(e&1){let i=U();l(0,"div",1)(1,"div",12)(2,"div",13),c(3,"app-icon",14),l(4,"input",15),K("ngModelChange",function(o){I(i);let a=_();return J(a.query,o)||(a.query=o),M(o)}),k("keyup",function(){I(i);let o=_();return M(o.loadSearch$.next())}),s(),c(5,"app-icon",16),s(),p(6,ke,1,1),s()()}if(e&2){let i,r=_();n(2),w("search-mode__input-wrapper--has-result",r.searchItems().length),n(),d("icon","search"),n(),G("ngModel",r.query),n(),d("icon","close"),n(),m(6,(i=r.searchItems())?6:-1,i)}}function Te(e,t){e&1&&c(0,"app-icon",4),e&2&&d("icon","close")}function Le(e,t){e&1&&c(0,"app-icon",4),e&2&&d("icon","search")}var pe=(()=>{let t=class t{constructor(){this.userStoreService=u(Z),this.searchEndpointsService=u(Q),this.destroyRef=u(v),this.userData=this.userStoreService.userData,this.searchMode=x(!1),this.query=x(""),this.searchItems=x([]),this.loadSearch$=new P,this.toggleSearchMode=()=>{this.searchMode.set(!this.searchMode())},this.loadSearch=()=>{this.loadSearch$.pipe(F(100),E(()=>this.query()?!0:(this.searchItems.set([]),!1)),A(()=>this.searchEndpointsService.searchControllerSearch({requestBody:{query:this.query()}})),O(this.destroyRef)).subscribe(r=>{console.log(r),this.searchItems.set(r)})}}ngOnInit(){this.loadSearch()}};t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=h({type:t,selectors:[["app-in-app-layout"]],standalone:!0,features:[y],decls:16,vars:7,consts:[[1,"header"],[1,"search-mode"],[1,"bottom-bar"],[1,"bottom-bar__item",3,"routerLink"],[1,"icon--white",3,"icon"],[1,"bottom-bar__item",3,"click"],[1,"menu"],[3,"truncate"],[1,"icon-button","ml-xs"],[3,"icon"],[3,"routerLink"],[1,"button"],[1,"search-mode__content"],[1,"search-mode__input-wrapper"],[1,"icon--white","icon--lg",3,"icon"],["type","text","placeholder","S\xF6k","appAutofocus","",1,"search-mode__input",3,"ngModelChange","keyup","ngModel"],[1,"search-mode__input-wrapper--right","icon--white",3,"icon"],[1,"search-mode__result"]],template:function(o,a){if(o&1&&(l(0,"div",0),c(1,"app-logo"),p(2,De,1,1),s(),c(3,"router-outlet"),p(4,Oe,7,6,"div",1),l(5,"div",2)(6,"a",3),c(7,"app-icon",4),f(8," \xD6versikt "),s(),l(9,"a",3),c(10,"app-icon",4),f(11," Transaktioner "),s(),l(12,"button",5),k("click",function(){return a.toggleSearchMode()}),p(13,Te,1,1,"app-icon",4)(14,Le,1,1),f(15," S\xF6k "),s()()),o&2){let D;n(2),m(2,(D=a.userData())?2:-1,D),n(2),m(4,a.searchMode()?4:-1),n(2),d("routerLink","/app"),n(),d("icon","dashboard"),n(2),d("routerLink","/app/transactions"),n(),d("icon","list"),n(3),m(13,a.searchMode()?13:14)}},dependencies:[se,ie,te,ne,oe,ae,ee,re,Y,X,ce],styles:["[_nghost-%COMP%]{padding:24px;display:flex;flex-direction:column}.header[_ngcontent-%COMP%]{display:flex;align-items:center}.menu[_ngcontent-%COMP%]{display:flex;margin-left:auto;align-items:center;overflow:hidden}.menu[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{margin-left:16px}.search-mode[_ngcontent-%COMP%]{position:fixed;inset:0;background:#0000004d;display:flex;flex-direction:column}.search-mode__content[_ngcontent-%COMP%]{display:flex;flex-direction:column;margin:16px 16px 90px}.search-mode__input-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;background:#000;padding:8px 16px;border-radius:12px}.search-mode__input-wrapper--has-result[_ngcontent-%COMP%]{border-bottom-left-radius:0;border-bottom-right-radius:0}.search-mode__input-wrapper--right[_ngcontent-%COMP%]{margin-left:auto}.search-mode__input[_ngcontent-%COMP%]{appearance:none;background:none;color:#fff;height:50px;font-size:30px;padding:0 16px}.search-mode__result[_ngcontent-%COMP%]{background:#000;border-top:1px solid grey;display:flex;flex-direction:column;padding:16px;gap:16px;overflow:auto;border-bottom-right-radius:12px;border-bottom-left-radius:12px}.search-mode__result[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{cursor:pointer;color:#fff}.search-mode__input[_ngcontent-%COMP%]{display:flex;align-items:center}.bottom-bar[_ngcontent-%COMP%]{background:#000;color:#fff;padding:8px;border-radius:12px;position:fixed;bottom:8px;left:8px;right:8px;display:flex;justify-content:space-around;height:56px}.bottom-bar__item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:space-between;cursor:pointer;font-size:13px}.bottom-bar__item[_ngcontent-%COMP%]   app-icon[_ngcontent-%COMP%]{margin-bottom:4px}.bottom-bar[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .bottom-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{color:#fff}"],changeDetection:0});let e=t;return e})();var Ct=[{path:"",component:pe,children:[{path:"",loadComponent:()=>import("./chunk-GD6DQ4ZH.js").then(e=>e.InAppOverviewComponent)},{path:"transactions",loadComponent:()=>import("./chunk-K43LB4IW.js").then(e=>e.InAppTransactionsComponent)}]}];export{Ct as inAppLayoutRoutes};
